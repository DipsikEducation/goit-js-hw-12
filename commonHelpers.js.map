{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/js/render-functions.js","../src/js/pixabay-api.js","../src/js/loader.js","../src/js/onFormSubmit.js","../src/main.js"],"sourcesContent":["export const refs = {\n  form: document.querySelector('.user-form'),\n  formInput: document.querySelector('.form-input'),\n  btn: document.querySelector('.form-button'),\n  galleryList: document.querySelector('.gallery'),\n  container: document.querySelector('.container'),\n  loader: document.querySelector('.loader'),\n};\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { refs } from \"./refs\";\n\n\n/*-------------------------------------FUNC ERORE--------------*/ \nexport function checkFunction(userData) {\n    const userArray = userData.hits;\n    if (userArray.length === 0) {\n        iziToast.error({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: \"topRight\",\n        });\n    } else {\n        renderFunction(userArray);\n    }\n};\n\n\n\n\nexport function makeMarcup(image) {\n  return `<li class=\"gallery-item\">\n        <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n          <img\n            src=\"${image.webformatURL}\"\n            class=\"gallery-image\"\n            alt=\"${image.tags}\"\n          />\n        </a>\n        <div class=\"modat-text\">\n        \n            <div class=\"modal-element\"><p>Likes</p><span>${image.likes}</span></div>\n            <div class=\"modal-element\"><p>Views</p><span>${image.views}</span></div>\n            <div class=\"modal-element\"><p>Comments</p><span>${image.comments}</span></div>\n            <div class=\"modal-element\"><p>Downloads</p><span>${image.downloads}</span></div>\n        </div>\n      </li>`;\n}\n\n\nexport function makeGalleryItem(response) {\n  const result = response.hits.map(makeMarcup).join('');\n\n  if (response.hits.length) {\n    refs.galleryList.innerHTML = result;\n    let lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionPosition: 'bottom',\n      captionDelay: 250,\n    });\n    lightbox.refresh();\n  } else {\n    onError();\n  }\n}","\nexport function fetchImg(input) {\n  const API_KEY = '42307906-965d9e91a86d7f624badfb082';\n  const BASE_URL = 'https://pixabay.com/api/';\n  const parameters = `q=${input}&image_type=photo&orientation=horizontal&safesearch=true`;\n  const URL = `${BASE_URL}?key=${API_KEY}&${parameters}`;\n  return fetch(URL).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}","import { refs } from './refs';\n\nexport function loaderOn() {\n  refs.loader.classList.remove('hidden');\n}\n\nexport function loaderOff() {\n  refs.loader.classList.add('hidden');\n}","\nimport { refs } from './refs';\nimport { checkFunction} from './render-functions';\nimport { makeGalleryItem } from './render-functions';\nimport { fetchImg} from './pixabay-api';\nimport { loaderOn } from './loader';\nimport { loaderOff } from './loader';\n\nexport function onFormSubmit(event) {\n  event.preventDefault();\n  loaderOn();\n  refs.galleryList.innerHTML = '';\n  const userSearch = event.currentTarget.elements.input.value.trim();\n\n  fetchImg(userSearch).then(makeGalleryItem).catch(checkFunction).finally(loaderOff);\n\n  refs.form.reset();\n}","import { refs } from './js/refs';\nimport { onFormSubmit } from './js/onFormSubmit';\n\nrefs.form.addEventListener('submit', onFormSubmit);"],"names":["refs","checkFunction","userData","userArray","iziToast","makeMarcup","image","makeGalleryItem","response","result","SimpleLightbox","fetchImg","input","API_KEY","BASE_URL","parameters","URL","loaderOn","loaderOff","onFormSubmit","event","userSearch"],"mappings":"6vBAAO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,YAAY,EACzC,UAAW,SAAS,cAAc,aAAa,EAC/C,IAAK,SAAS,cAAc,cAAc,EAC1C,YAAa,SAAS,cAAc,UAAU,EAC9C,UAAW,SAAS,cAAc,YAAY,EAC9C,OAAQ,SAAS,cAAc,SAAS,CAC1C,ECGO,SAASC,EAAcC,EAAU,CACpC,MAAMC,EAAYD,EAAS,KACvBC,EAAU,SAAW,EACrBC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UACtB,CAAS,EAED,eAAeD,CAAS,CAEhC,CAKO,SAASE,EAAWC,EAAO,CAChC,MAAO;AAAA,mBACUA,EAAM,aAAa;AAAA;AAAA,mBAEnBA,EAAM,YAAY;AAAA;AAAA,mBAElBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,2DAK8BA,EAAM,KAAK;AAAA,2DACXA,EAAM,KAAK;AAAA,8DACRA,EAAM,QAAQ;AAAA,+DACbA,EAAM,SAAS;AAAA;AAAA,YAG9E,CAGO,SAASC,EAAgBC,EAAU,CACxC,MAAMC,EAASD,EAAS,KAAK,IAAIH,CAAU,EAAE,KAAK,EAAE,EAEhDG,EAAS,KAAK,QAChBR,EAAK,YAAY,UAAYS,EACd,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,gBAAiB,SACjB,aAAc,GACpB,CAAK,EACQ,QAAO,GAEhB,SAEJ,CC1DO,SAASC,EAASC,EAAO,CAC9B,MAAMC,EAAU,qCACVC,EAAW,2BACXC,EAAa,KAAKH,CAAK,2DACvBI,EAAM,GAAGF,CAAQ,QAAQD,CAAO,IAAIE,CAAU,GACpD,OAAO,MAAMC,CAAG,EAAE,KAAKR,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCVO,SAASS,GAAW,CACzBjB,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CAEO,SAASkB,GAAY,CAC1BlB,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC,CCAO,SAASmB,EAAaC,EAAO,CAClCA,EAAM,eAAc,EACpBH,IACAjB,EAAK,YAAY,UAAY,GAC7B,MAAMqB,EAAaD,EAAM,cAAc,SAAS,MAAM,MAAM,OAE5DT,EAASU,CAAU,EAAE,KAAKd,CAAe,EAAE,MAAMN,CAAa,EAAE,QAAQiB,CAAS,EAEjFlB,EAAK,KAAK,OACZ,CCdAA,EAAK,KAAK,iBAAiB,SAAUmB,CAAY"}